<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Admin Panel ðŸ”´</title>
    <style>
        body { background: #000; color: #0f0; font-family: monospace; padding: 20px; max-width: 800px; margin: 0 auto; }
        h1 { border-bottom: 2px solid #0f0; padding-bottom: 10px; }
        
        .site-card {
            background: #111; border: 1px solid #333; padding: 15px; margin-bottom: 10px;
            display: flex; justify-content: space-between; align-items: center; border-radius: 8px;
        }
        .site-info { font-size: 1.1rem; color: white; }
        .time { font-size: 0.8rem; color: #666; }
        
        button { background: #0f0; border: none; padding: 8px 15px; cursor: pointer; font-weight: bold; border-radius: 5px; }
        button:hover { background: #0c0; }

        .key-box { margin-top: 10px; background: #222; color: yellow; padding: 5px; display: none; text-align: center; }
    </style>
</head>
<body>

    <h1>ðŸ‘‘ LIVE REQUESTS</h1>
    <p>Real-time list of created toolkits:</p>

    <div id="list">
        <div style="color:#666">Waiting for data...</div>
    </div>

    <!-- FIREBASE SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <script>
        // --- âš ï¸ YAHAN APNI FIREBASE CONFIG PASTE KAREN ---
        // (Project Settings > General > CDN se copy karen)
        const firebaseConfig = {
            apiKey: "AIzaSyD...",
            authDomain: "your-project.firebaseapp.com",
            databaseURL: "https://your-project-default-rtdb.firebaseio.com",
            projectId: "your-project",
            storageBucket: "your-project.appspot.com",
            messagingSenderId: "123...",
            appId: "1:123..."
        };
        // --------------------------------------------------

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        const listDiv = document.getElementById('list');

        // Listen for new sites
        db.ref('sites').on('value', (snapshot) => {
            listDiv.innerHTML = ''; // Clear list
            const data = snapshot.val();

            if(!data) {
                listDiv.innerHTML = "No sites created yet.";
                return;
            }

            // Loop through data
            Object.keys(data).forEach(key => {
                const site = data[key];
                const div = document.createElement('div');
                div.innerHTML = `
                    <div class="site-card">
                        <div>
                            <div class="site-info">${site.name}</div>
                            <div class="time">${new Date(site.time).toLocaleString()}</div>
                        </div>
                        <button onclick="genKey('${site.name}', this)">Generate Key ðŸ”‘</button>
                    </div>
                    <div class="key-box"></div>
                `;
                listDiv.prepend(div); // Newest on top
            });
        });

        function genKey(name, btn) {
            // Secret Algorithm
            const raw = name + "FAIZAN_SECRET_SYSTEM_2025";
            const key = btoa(raw).substring(0, 12);
            
            const box = btn.parentElement.nextElementSibling;
            box.style.display = 'block';
            box.innerText = "KEY: " + key;
        }
    </script>
</body>
</html>
